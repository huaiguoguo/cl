(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-ucenter-mysetting-securityPassword-securityPassword"],{"440f":function(t,e,i){"use strict";var n=i("dd17"),a=i.n(n);a.a},"815b":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"container"},[i("v-uni-view",{staticClass:"edit_input"},[i("v-uni-text",{staticClass:"title"},[t._v("密码")]),i("v-uni-input",{staticClass:"input",attrs:{type:"password",placeholder:"请输入安全密码"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),i("v-uni-view",{staticClass:"edit_input"},[i("v-uni-text",{staticClass:"title"},[t._v("确认密码")]),i("v-uni-input",{staticClass:"input",attrs:{type:"password",placeholder:"请确认安全密码"},model:{value:t.repassword,callback:function(e){t.repassword=e},expression:"repassword"}})],1),i("v-uni-view",{staticClass:"edit_input"},[i("v-uni-text",{staticClass:"title"},[t._v("账号类型")]),i("v-uni-picker",{staticClass:"picker",attrs:{value:t.index,range:t.list},on:{change:function(e){e=t.$handleEvent(e),t.bindPickerChange(e)}}},[i("v-uni-view",{staticClass:"uni-input"},[t._v(t._s(t.list[t.index]))])],1),i("v-uni-view",{staticClass:"drop-arrow"})],1),i("v-uni-view",{staticClass:"edit_input"},[i("v-uni-text",{staticClass:"title"},[t._v("验证码")]),i("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请输入手机验证码"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),i("v-uni-view",{staticClass:"code",on:{click:function(e){e=t.$handleEvent(e),t.getCode()}}},[t._v(t._s(t.btnText))])],1),i("v-uni-button",{staticClass:"button",attrs:{type:"warn"},on:{click:function(e){e=t.$handleEvent(e),t.submit()}}},[t._v("确认")])],1)},a=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},a094:function(t,e,i){"use strict";i.r(e);var n=i("815b"),a=i("a32f");for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);i("440f");var o=i("2877"),r=Object(o["a"])(a["default"],n["a"],n["b"],!1,null,"fd460754",null);e["default"]=r.exports},a32f:function(t,e,i){"use strict";i.r(e);var n=i("dc7c"),a=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);e["default"]=a.a},dc7c:function(t,e,i){"use strict";var n=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("cebc")),s=i("2f62"),o={data:function(){return{password:"",repassword:"",code:"",time:60,timeRuning:!1,btnText:"获取验证码",list:["手机验证码","邮箱验证码"],index:0,channel:1}},computed:(0,a.default)({},(0,s.mapGetters)({userInfo:"userInfo",token:"token",expri:"expri"})),methods:{checkForm:function(){return this.password?this.repassword?this.password!=this.repassword?(this.toast("两次密码输入不一致"),!1):!!this.code||(this.toast("请输入验证码"),!1):(this.toast("请确认安全密码"),!1):(this.toast("请输入安全密码"),!1)},getCode:function(){if(this.timeRuning)return!1;this.time=60;var t=this,e={},i="";if(1==this.channel)i="send-sms",e.mobile=this.userInfo.user.mobile;else if(2==this.channel){if(!this.userInfo.user.email)return t.toast("您还没有绑定邮箱, 请先帮定邮箱"),t._setTimeout(function(){uni.navigateTo({url:"/pages/ucenter/mysetting/bindEmail/bindEmail"})}),!1;i="send-email",e.email=this.userInfo.user.email}e.type=5,this.httpRequest("user/"+i,"POST",e,function(e){200==e.data.code?t.atInerVal():t.toast(e.data.message)})},atInerVal:function(){var t=this,e=setInterval(function(){t.time>1?(t.time-=1,console.log(t.time),t.btnText=t.time+"秒后重新获取"):(t.btnText="重新获取",t.timeRuning=!1,clearInterval(e))},1e3)},bindPickerChange:function(t){console.log(t.target.value),0==t.target.value?this.channel=1:this.channel=2,this.index=t.target.value},submit:function(){if(!this.checkForm())return!1;var t=this;this.httpRequest("user/change-security-pwd","POST",{secpwd:this.password,channel:this.channel,mobile:t.userInfo.user.mobile,code:this.code},function(e){200==e.data.code?(t.toast("设置成功"),t._setTimeout(function(){uni.navigateTo({url:"/pages/ucenter/mysetting/mysetting"})})):t.toast(e.data.message)})}},onLoad:function(){}};e.default=o},dd17:function(t,e,i){var n=i("ea3a");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("168c12ca",n,!0,{sourceMap:!1,shadowMode:!1})},ea3a:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,"uni-page-body[data-v-fd460754]{background:#000}.container[data-v-fd460754]{width:100%;height:100%;color:#fff;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.edit_input[data-v-fd460754]{width:95%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;font-size:%?30?%;border-bottom:.5px solid #ccc;margin-bottom:%?30?%;margin-top:%?30?%}.edit_input .title[data-v-fd460754]{width:20%;height:%?60?%;line-height:%?60?%;\n\t\n\t/* background: #0000FF; */margin:%?10?% %?0?%;\n\t/* margin-left: 30upx; */text-align:center}.edit_input .input[data-v-fd460754]{width:50%;height:%?60?%;line-height:%?60?%\n\t/* background: red; */}.edit_input .code[data-v-fd460754]{\n\t/* display: block; */width:27%;height:%?60?%;line-height:%?60?%;background:#efa909;padding:%?10?% %?10?%;margin-bottom:%?5?%;margin-left:%?20?%;text-align:center;font-size:%?27?%;border-radius:%?10?%}.edit_input .picker[data-v-fd460754]{width:40%;height:%?60?%;line-height:%?60?%;margin-left:%?50?%\n\t/* background: red; */}.edit_input .drop-arrow[data-v-fd460754]{width:%?10?%;height:%?10?%;border-top:%?2?% solid #ccc;border-right:%?2?% solid #ccc;-webkit-transform:rotate(135deg);-ms-transform:rotate(135deg);transform:rotate(135deg);margin-left:%?200?%\n\t/* background: blue; */}.button[data-v-fd460754]{width:70%;background:#efa909\n\t/* font-size: 30upx; */}body.?%PAGE?%[data-v-fd460754]{background:#000}",""])}}]);