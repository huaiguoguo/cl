(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-ucenter-Forget-Forget"],{"17b3":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,"uni-page-body[data-v-6af0e8c7]{background:#000;\n\t\t/* text-align: center; */background:url(http://static.hongxing.ws/img/login-bg.png);background-size:cover}.container[data-v-6af0e8c7]{width:100%;height:100%;color:#fff;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.title[data-v-6af0e8c7]{width:75%;\n\t\t/* background: #0000FF; */font-size:%?50?%;text-align:left;padding-left:%?10?%;margin-top:%?50?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.title .title_item[data-v-6af0e8c7]{width:50%;\n\t\t\n\t\t/* background: red; */\n\t\t\n\t\t/* margin-left: 10upx; */text-align:center}.title .active[data-v-6af0e8c7]{border-bottom:%?4?% solid #ccc}.item[data-v-6af0e8c7]{width:75%;\n\t\t/* background: #289063; */padding:%?0?% %?5?%;margin-top:%?50?%}\n\t\n\t/* \t.item:nth-child(2){\n\t\tmargin-top: 40upx;\n\t}\n\t\n\t.item:nth-child(3){\n\t\tmargin-top: 30upx;\n\t}\n\t */.item .label[data-v-6af0e8c7]{font-size:%?30?%}.item .input[data-v-6af0e8c7]{margin-top:%?0?%;border-bottom:%?0.5?% solid #f0f0f0;padding:%?20?% %?0?%;font-size:%?35?%}.verifyCode .input[data-v-6af0e8c7]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.verifyCode .input .code[data-v-6af0e8c7]{\n\t\t/* display: block; */width:60%;height:%?50?%;\n\t\t/* background: #EFA909; */padding:%?0?% %?0?%;font-size:%?35?%;border-radius:%?10?%}.verifyCode .input .btn[data-v-6af0e8c7]{\n\t\t/* display: block; */width:38%;height:100%;background:#efa909;padding:%?25?% %?10?%;border-radius:%?10?%;font-size:%?28?%;text-align:center}.rememberPassword[data-v-6af0e8c7]{width:75%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;margin-left:%?-20?%;margin-top:%?35?%;font-size:%?30?%}.rememberPassword .checkbox[data-v-6af0e8c7]{width:100%\n\t\t/* height: 30upx; */\n\t\t/* background: #0062CC; */}.rememberPassword .checkbox uni-checkbox[data-v-6af0e8c7]{\n/* \t\twidth: 15upx;\t\n\t\theight: 15upx; */\n\t\t/* background: red; */}.button[data-v-6af0e8c7]{width:75%;margin-top:%?50?%;background:rgba(199,199,205,.3);color:#000}.forget_register[data-v-6af0e8c7]{width:75%;height:100%;\n\t\t/* background: #00D400; */display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:0 %?10?%;font-size:%?30?%;margin-top:%?45?%}.info[data-v-6af0e8c7]{width:75%;height:100%;\n\t\t/* background: #00D400; */text-align:center;font-size:%?30?%;margin-top:%?45?%}.info .agree[data-v-6af0e8c7]{color:#3396fb}body.?%PAGE?%[data-v-6af0e8c7]{background:#000;background:url(http://static.hongxing.ws/img/login-bg.png);background-size:cover}",""])},"21a7":function(t,e,i){"use strict";i.r(e);var n=i("377b"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);e["default"]=a.a},"377b":function(t,e,i){"use strict";var n=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("386d");var a=n(i("cebc")),o=i("2f62"),s={data:function(){return{account:"",password:"",repassword:"",code:"",channel:1,time:60,timeRuning:!1,btnText:"获取验证码"}},computed:(0,a.default)({},(0,o.mapGetters)({userInfo:"userInfo",token:"token",expri:"expri"})),methods:{checkFormForAccount:function(){if(!this.account)return uni.showToast({icon:"none",title:"请输入"+(1==this.channel?"手机号码":"邮箱")}),!1;if(1==this.channel){if(-1==this.account.search(/^1[3-9]{1}\d{9}$/))return uni.showToast({icon:"none",title:"请输入正确的手机号码"}),!1}else if(2==this.channel&&-1==this.account.search(/^[^@]*<[a-zA-Z0-9!#$%&'*+\\\/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+\\\/=?^_`{|}~-]+)*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?>$/))return uni.showToast({icon:"none",title:"请输入正确的邮箱地址"}),!1;return!0},checkForm:function(){return!!this.checkFormForAccount()&&(this.password?this.repassword?this.password!=this.repassword?(uni.showToast({icon:"none",title:"两次密码输入不一致"}),!1):!!this.code||(uni.showToast({icon:"none",title:"请输入验证码"}),!1):(uni.showToast({icon:"none",title:"请输入确认密码"}),!1):(uni.showToast({icon:"none",title:"请输入密码"}),!1))},submit:function(){if(!this.checkForm())return!1;var t=this;uni.request({url:t.api_host+"site/retieve-pwd",method:"POST",header:{Authorization:"Bearer "+t.token},data:{account:t.account,password:t.password,repassword:t.repassword,code:t.code,channel:t.channel},success:function(e){console.log(e);var i=e.data.data;200==e.data.code?(t.detail=i,uni.showToast({title:e.data.message,duration:1500}),setTimeout(function(){uni.navigateTo({url:"/pages/ucenter/Login/Login"})},2e3)):uni.showToast({icon:"none",title:e.data.message})},fail:function(){}})},getCode:function(){if(!this.checkFormForAccount())return!1;var t=this;if(t.timeRuning)return!1;t.time=60;var e="send-sms";1==this.channel?e="send-sms":2==this.channel&&(e="send-email"),uni.request({url:t.api_host+"user/"+e,method:"POST",header:{Authorization:"Bearer "+t.token},data:{mobile:t.account,type:2},success:function(e){console.log(e);var i=e.data;200==i.code?t.setTime():uni.showToast({icon:"none",title:i.message})},fail:function(t){console.log(t)}})},setTime:function(){var t=this;t.timeRuning=!0;var e=setInterval(function(){t.time>1?(t.time-=1,console.log(t.time),t.btnText=t.time+"秒后重新获取"):(t.btnText="重新获取",t.timeRuning=!1,clearInterval(e))},1e3)}}};e.default=s},"48a5":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"container"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-view",{class:"title_item mobile "+(1==t.channel?"active":""),on:{click:function(e){e=t.$handleEvent(e),2==t.channel&&(t.channel=1)}}},[t._v("手机找回")]),i("v-uni-view",{class:"title_item email "+(2==t.channel?"active":""),on:{click:function(e){e=t.$handleEvent(e),1==t.channel&&(t.channel=2)}}},[t._v("邮箱找回")])],1),i("v-uni-view",{staticClass:"item mobile"},[i("v-uni-view",{staticClass:"label"},[t._v(t._s(1==t.channel?"手机":"邮箱"))]),i("v-uni-view",{staticClass:"input"},[i("v-uni-input",{attrs:{type:"text",value:"",placeholder:"请输入"+(1==t.channel?"手机号码":"邮箱")},model:{value:t.account,callback:function(e){t.account=e},expression:"account"}})],1)],1),i("v-uni-view",{staticClass:"item password"},[i("v-uni-view",{staticClass:"label"},[t._v("密码")]),i("v-uni-view",{staticClass:"input"},[i("v-uni-input",{attrs:{type:"password",value:"",placeholder:"请输入密码"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),i("v-uni-view",{staticClass:"item repassword"},[i("v-uni-view",{staticClass:"label"},[t._v("确认密码")]),i("v-uni-view",{staticClass:"input"},[i("v-uni-input",{attrs:{type:"password",value:"",placeholder:"请确认密码"},model:{value:t.repassword,callback:function(e){t.repassword=e},expression:"repassword"}})],1)],1),i("v-uni-view",{staticClass:"item verifyCode"},[i("v-uni-view",{staticClass:"label"},[t._v("验证码")]),i("v-uni-view",{staticClass:"input"},[i("v-uni-input",{staticClass:"code",attrs:{type:"text",value:"",placeholder:"请输入验证码"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),i("v-uni-view",{staticClass:"btn",on:{click:function(e){e=t.$handleEvent(e),t.getCode()}}},[t._v(t._s(t.btnText))])],1)],1),i("v-uni-button",{staticClass:"button",on:{click:function(e){e=t.$handleEvent(e),t.submit()}}},[t._v("确认")])],1)},a=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},"50df":function(t,e,i){var n=i("17b3");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("073213ce",n,!0,{sourceMap:!1,shadowMode:!1})},5764:function(t,e,i){"use strict";var n=i("50df"),a=i.n(n);a.a},d8b5:function(t,e,i){"use strict";i.r(e);var n=i("48a5"),a=i("21a7");for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);i("5764");var s=i("2877"),c=Object(s["a"])(a["default"],n["a"],n["b"],!1,null,"6af0e8c7",null);e["default"]=c.exports}}]);